<!-- Pretty Print for Debug -->
{{ $value           := . }}
{{ $type            := (printf "%T" $value) }}
{{ $typeIsBool      := (eq "bool" $type) }}
{{ $typeIsString    := (eq "string" $type) }}
{{ $typeIsTime      := (eq "time.Time" $type) }}
{{ $typeIsInterface := (eq "interface" $type) }}
{{ $typeIsArray     := (findRE "^([[][]]|.*TaxonomyList)" $type 1 | len | eq 1) }} <!-- match ^[] -->
{{ $typeIsMap       := (findRE "^(map[[].+[]]|.*SiteSocial)" $type 1 | len | eq 1) }} <!-- match ^map[*] -->

{{ $typeIsSiteInfo  := (eq "*hugolib.SiteInfo" $type) }}

<div class="debugprint">
    {{ if $typeIsBool }}
        {{ if $value }}
            {{ printf "<span class=\"true\">%#v</span>" $value | safeHTML }}
        {{ else }}
            {{ printf "<span class=\"false\">%#v</span>" $value | safeHTML }}
        {{ end }}
    {{ else if (or $typeIsString $typeIsTime $typeIsInterface) }}
        {{ printf "%s" $value | safeHTML }}
    {{ else if $typeIsArray }}
        {{ $typeIsStringArray := (findRE "^[[][]]string" $type 1 | len | eq 1) }} <!-- match ^[]string -->
        {{ range $value }}
            {{ if $typeIsStringArray }}
                <!-- Quoting strings so that strings with spaces can be easily identified -->
                {{ printf "\"%s\"" . | safeHTML }}
            {{ else }}
                {{ partial "debugprint.html" . }} <!-- Recursive call FTW! -->
            {{ end }}
        {{ end }}
    {{ else if $typeIsMap }}
        {{ if (gt (len $value) 0) }}
            <table>
                <tr><th class="key">Key</th><th class="type">Type</th><th class="value">Value</th></tr>
                {{ range $key1, $value1 := $value }}
                    {{ $type1       := (printf "%T" $value1) }}
                    {{ $type1IsTime := (eq "time.Time" $type1) }}
                    {{ if $type1IsTime }}
                        <!-- Print the date only if it is not at its initial value of Jan 1, 0001 -->
                        {{ if (ne "0001-01-01" ($value1.Format "2006-01-02")) }}
                            {{ printf "<tr><td class=\"key\">%s</td><td class=\"type\">%s</td><td class=\"value\">" $key1 $type1 | safeHTML }}
                            {{ partial "debugprint.html" $value1 }} <!-- Recursive call FTW! -->
                            {{ printf "</td></tr>" | safeHTML }}
                        {{ end }}
                    {{ else }}
                        {{ printf "<tr><td class=\"key\">%s</td><td class=\"type\">%s</td><td class=\"value\">" $key1 $type1 | safeHTML }}
                        {{ partial "debugprint.html" $value1 }} <!-- Recursive call FTW! -->
                        {{ printf "</td></tr>" | safeHTML }}
                    {{ end }}
                {{ end }}
            </table>
        {{ end }}
    {{ else if $typeIsSiteInfo }}
        <table>
            <tr><th class="key">SiteInfo variable</th><th class="value">Value</th></tr>
            {{ printf "<tr><td class=\"key\">Title</td><td class=\"value\">"           | safeHTML }}{{ partial "debugprint.html" .Title }}{{ printf "</td></tr>" | safeHTML }}
            {{ printf "<tr><td class=\"key\">Author</td><td class=\"value\">"          | safeHTML }}{{ partial "debugprint.html" .Author }}{{ printf "</td></tr>" | safeHTML }}
            {{ printf "<tr><td class=\"key\">Social</td><td class=\"value\">"          | safeHTML }}{{ partial "debugprint.html" .Social }}{{ printf "</td></tr>" | safeHTML }}
            {{ printf "<tr><td class=\"key\">LastChange</td><td class=\"value\">"      | safeHTML }}{{ partial "debugprint.html" .LastChange }}{{ printf "</td></tr>" | safeHTML }}
            {{ printf "<tr><td class=\"key\">DisqusShortname</td><td class=\"value\">" | safeHTML }}{{ partial "debugprint.html" .DisqusShortname }}{{ printf "</td></tr>" | safeHTML }}
            {{ printf "<tr><td class=\"key\">GoogleAnalytics</td><td class=\"value\">" | safeHTML }}{{ partial "debugprint.html" .GoogleAnalytics }}{{ printf "</td></tr>" | safeHTML }}
            {{ printf "<tr><td class=\"key\">Copyright</td><td class=\"value\">"       | safeHTML }}{{ partial "debugprint.html" .Copyright }}{{ printf "</td></tr>" | safeHTML }}
            {{ printf "<tr><td class=\"key\">RSSLink</td><td class=\"value\">"         | safeHTML }}{{ partial "debugprint.html" .RSSLink }}{{ printf "</td></tr>" | safeHTML }}
            {{ printf "<tr><td class=\"key\">LanguageCode</td><td class=\"value\">"    | safeHTML }}{{ partial "debugprint.html" .LanguageCode }}{{ printf "</td></tr>" | safeHTML }}
            {{ printf "<tr><td class=\"key\">BuildDrafts</td><td class=\"value\">"     | safeHTML }}{{ partial "debugprint.html" .BuildDrafts }}{{ printf "</td></tr>" | safeHTML }}
            {{ printf "<tr><td class=\"key\">Params</td><td class=\"value\">"          | safeHTML }}{{ partial "debugprint.html" .Params }}{{ printf "</td></tr>" | safeHTML }}

            {{/* printf "<tr><td class=\"key\">Taxonomies</td><td class=\"value\">%#v</td></tr>" .Taxonomies | safeHTML */}}
            {{/* printf "<tr><td class=\"key\">*PageCollections</td><td class=\"value\">%#v</td></tr>" .PageCollections | safeHTML */}}
            {{/* printf "<tr><td class=\"key\">Hugo</td><td class=\"value\">%#v</td></tr>" .Hugo | safeHTML */}}
            {{/* printf "<tr><td class=\"key\">Data</td><td class=\"value\">%#v</td></tr>" .Data | safeHTML */}}

            {{/* printf "<tr><td class=\"key\">Files</td><td class=\"value\">%#v</td></tr>" .Files | safeHTML */}}
            {{/* printf "<tr><td class=\"key\">Menus</td><td class=\"value\">%#v</td></tr>" .Menus | safeHTML */}}
            {{/* printf "<tr><td class=\"key\">Permalinks</td><td class=\"value\">%#v</td></tr>" .Permalinks | safeHTML */}}
            {{/* printf "<tr><td class=\"key\">Language</td><td class=\"value\">%#v</td></tr>" .Language | safeHTML */}}
            {{/* printf "<tr><td class=\"key\">LanguagePrefix</td><td class=\"value\">%#v</td></tr>" .LanguagePrefix | safeHTML */}}
            {{/* printf "<tr><td class=\"key\">Languages</td><td class=\"value\">%#v</td></tr>" .Languages | safeHTML */}}
        </table>
    {{ else }}
        {{ printf "%#v" . | safeHTML }}
    {{ end }}
</div>

<!-- Older, simpler version -->
<!-- <table class="debugprint"> -->
{{/* range $key1, $value1 := . */}}
{{/* printf "<tr><td>%#v</td><td>%#v</td></tr>" $key1 $value1 | safeHTML */}}
{{/* end */}}
<!-- </table> -->
